---
title: 三数之和
copyright: true
date: 2019-07-22 14:14:29
categories:
- 算法
- 三数之和
tags:
- 算法
mathjax: true
---

给定一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c ，使得 a + b + c = 0 ？找出所有满足条件且不重复的三元组。

注意：答案中不可以包含重复的三元组。

例如, 给定数组 `nums = [-1, 0, 1, 2, -1, -4]`，

满足要求的三元组集合为：

```
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```

[力扣（LeetCode）](https://leetcode-cn.com/problems/3sum)

<!--more-->

先排序（`java`里面有`Arrays.sort()`这个方法进行排序，不过我自己用的是自己写的二分排序对这个数组进行的排序）

排完序，就能够更方便的去查找满足条件并且不重复的三元组了。

我们对三元组进行与两元组查找相似的操作，不过三元组多了一个元素而已。

所以先介绍两元组的和的查找办法

## 两元组相加办法

<center>{%qnimg 三数之和\first.png %}</center>
因为现在这个数组是经过排序预处理的数组，所以接下来的查找中，left指向的数字和right指向的数字相加，比预计和要大的话，那么left就要向左边移动一位，就是`left--`；如果比预计和小的话，那么right要往右边移动一位，就是`right++`。

因为题目中要求的二元组是不能有重复的元素存在，所以在指针移动的过程中，我们要去对指针指向的数据进行判断，如果`right`和`left`指向的下一个元素与自己指向的上一个元素相同的时候，可以直接跳过，无需再次进行计算。（两点确定一条直线）



[代码示例](https://github.com/aimasa/exercise_demo/tree/master/src/exercise/demo/twosun)



## 三元组相加办法

三元组比两元组多了一个元素，在两元组查找的基础上，再添加一层循环。

也就是一个最初的循环，然后在那个循环里面开始两元组的查找办法。有个需要注意的要点就是：三元组里面可能会出现的重复。

当我们对初始数据进行预处理（排序）后，相同元素会排在一块。所以需要避免相同三元组出现的话，就需要保证每次遍历的元素都是独一无二的，这是建立在二元组基础上的三元组需要注意的地方。

[代码示例](https://github.com/aimasa/exercise_demo/tree/master/src/exercise/demo/threesum)

# 四元组相加办法

四元组又比三元组多了一个元素

所以又在外层加了一层循环语句，为了让复杂度小于o($n^{3}$)，我们对循环进行了一些操作，又叫剪枝。

剪枝把可能会产生重复四元组的情况去掉了，也把可能在对四元组的其中一个元素做循环，但没有能和这个元素产生结果的情况去掉了。

emm，也就是假如是[-1,0,1,2,-1,-4]这个数组我想要的目标值是0，但当我最外层循环指向-4时候，第二层循环，加上第三层循环都不可能能够找到-4和哪三个数相加得到0的时候，我就需要在预判断时候，就能够跳出循环，以避免产生更多的不必要的运算。

所以，剪枝我的办法是

```java
        if(i > 0 && nums[i] == nums[i - 1]) {continue;}
        if(nums[i] + nums[i + 1] + nums[i + 2] + nums[i + 3] > target)       
        {
            break;
        }
        if(nums[i] + nums[n] + nums[n - 1] + nums[n - 2] < target) 
        {
            continue;
        }
```
预判断最外层指定的元素可不可能是想要的四元组的成员之一。

或者预判断最外层和次外层指定的两个元素可不可能和另外两个元素产生想要的四元组。

同时剪枝还需要去重：

```java
         if(i > 0 && nums[i] == nums[i - 1]) {continue;}
```

判断当前指向的这个元素是不是这个指针上一个地方指向的是同一个元素，如果是，那指向下一个元素。这个去重是三层循环都必须需要的步骤，这样可以安全的去掉可能产生一样的四元组的可能。

[四元组之和代码示范](https://github.com/aimasa/exercise_demo/tree/master/src/exercise/demo/foursum)