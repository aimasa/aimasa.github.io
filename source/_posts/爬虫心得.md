---
title: 爬虫心得
copyright: true
date: 2019-10-15 14:04:43
categories:
- 爬虫
- 爬取html信息
tags:
- 爬虫
mathjax: true
---

因为毕业设计的缘故，网上没有现成的数据库，所以要自己想办法去爬取数据。所以

毕业设计step1:

1. 书写爬虫爬取文本

之前试着写了一个爬漫画的爬虫练手（书写思路另会写一条博客详细说明），那时候是对页面漫画的内容进行爬取，但是这次写的爬虫是对页面`html`的信息进行爬取。

<!--more-->

拟使用的库是`requests_html`和`PyQuery`，但是`PyQuery`这个单独的库好像就能满足我的需求。

其中

```python
from pyquery import PyQuery as pq
```

从`PyQuery`导入`pyquery`的方法模块。

```python
pq(link)
```

这句话的意思是获取这个`link`对应的页面的`html`文件。但是我这样写的时候却出现了乱码。

要根据网站的编码方式再去进行解码，所以我直接去获取这个网址对应的`html`信息是会返回乱码的。所以要把这句话改成：

```python
pq(link,encoding="")
```

现在我们就需要知道网站编码格式是什么了，我们打开`link`对应的那个网站页面，点击`f12`看它的页面元素（位置一般在`<head>`这个标签里面）：

<center>{% qnimg 爬虫心得\content.png%}</center>

由此可知，`encoding="gb2312"`

